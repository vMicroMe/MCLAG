#jinja2: trim_blocks:True

interfaces {
     ge-0/0/4 {
     gigether-options {
         redundant-parent reth0;
     }
 }
     ge-7/0/4 {
     gigether-options {
         redundant-parent reth0;
     }
 }
  
reth0 {

  vlan-tagging;
    
 redundant-ether-options {
        redundancy-group 1;
    }

     unit 506 {
        vlan-id 506;
        family inet {
            address 10.10.2.254/24;
        }
    }
                                       
}
     xe-0/0/5 {
     gigether-options {
         redundant-parent reth1;
     }
 }
     xe-0/0/6 {
     gigether-options {
         redundant-parent reth1;
     }
 }
     xe-7/0/5 {
     gigether-options {
         redundant-parent reth1;
     }
 }
     xe-7/0/6 {
     gigether-options {
         redundant-parent reth1;
     }
 }
  
reth1 {

  vlan-tagging;
    
 redundant-ether-options {
    lacp {
        active;
    }
        redundancy-group 2;
    }

     unit 705 {
        vlan-id 705;
        family inet {
            address 10.10.1.254;
        }
    }
                                       
}


   fab0 { 
       fabric-options {
           member-interfaces {        
               ge-0/0/2;               } 
      } 
    } 
  fab1 { 
      fabric-options {
          member-interfaces {         
              ge-7/0/2;                   } 
        } 
    } 

}


security {

address-book {

         global {

              address Add6 10.10.101.1;
              address Add5 10.10.100.1;
              address Add4 192.168.30.1;
              address Add3 192.168.20.1;
              address Add2 192.168.10.1;
              address Add1 192.168.0.1;
         }  
    
    }

zones {
security-zone CORE {
    interfaces {
              reth1.705 {
              host-inbound-traffic { 
                   system-services { 
                            ping; 
                   
                    }
                    protocols {  
                          ospf; 
                    }           
                }
            }
      
        }    
     }
 security-zone PROD_TRANSIT {
    interfaces {
              reth0.506 {
              host-inbound-traffic { 
                   system-services { 
                            ping; 
                   
                    }
                    protocols {  
                          ospf; 
                    }           
                }
            }
      
        }    
     }
 }

policies {
    
 
        from-zone PROD_TRANSIT to-zone CORE {
         policy asdasd {
            match { 
            source-address any;
            destination-address any;
            application any;
         }
        then {
          permit
         }
       }
          }
       from-zone CORE to-zone PROD_TRANSIT {
         policy Application-damsels {
            match { 
            source-address any;
            destination-address any;
            application any;
         }
        then {
          permit
         }
       }
          }
       }
 } 

chassis {
    cluster {
        reth-count 2;
        redundancy-group 0 {
            node 0 priority 100;
            node 1 priority 90;
        }
                redundancy-group 1 {
            node 0 priority 100;
            node 1 priority 90;
        }
               redundancy-group 2 {
            node 0 priority 90;
            node 1 priority 100;
        }
           }
}

groups { 
    node0 { 
        system { 
            host-name SRX-Node0; 
            backup-router 10.23.1.1 destination 9.9.9.9;
        } 
        interfaces { 
            fxp0 { 
                unit 0 { 
                    family inet { 
                        address 10.10.72.156/24 ;
                    } 
                } 
            }
        }
    }
    node1 { 
        system { 
            host-name SRX-Node1;
            backup-router 10.23.1.1 destination 9.9.9.9;     
        }
        interfaces { 
            fxp0 { 
                unit 0 { 
                    family inet { 
                        address 10.10.72.157/24    ;
                    } 
                } 
            }
        }
    }
}
apply-groups "${node}";

protocols {
   ospf {
          area 0 { 
              interface reth1.705; 
             }
        }
 }



